name = "kouprey"
main = "server/index.js"
compatibility_date = "2024-01-01"
node_compat = true

# Cloudflare Pages configuration
[site]
bucket = "./public"

# Environment variables
[vars]
PORT = "8787"

# For production, set these in Cloudflare dashboard:
# JWT_SECRET = "your-production-secret"
# MASTER_EMAIL = "admin@yourdomain.com"
# MASTER_PASSWORD = "your-secure-password"

# Cloudflare D1 Database (recommended for production)
# Uncomment and configure after migrating from SQLite:
# [[d1_databases]]
# binding = "DB"
# database_name = "kouprey-production"
# database_id = "your-database-id"

# R2 Storage for uploads
# [[r2_buckets]]
# binding = "UPLOADS"
# bucket_name = "kouprey-uploads"

[build]
command = "npm install"
